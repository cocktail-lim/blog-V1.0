<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.finn.mapper.UserMapper">
<!--    <select id="getUserRolesByUsername" resultType="java.lang.String">-->
<!--        select role_name-->
<!--        from tb_role-->
<!--        join-->
<!--        (-->
<!--            select role_id-->
<!--            from tb_role_user ru-->
<!--            left join tb_user u-->
<!--            on ru.user_id = u.id-->
<!--        )-->
<!--        as r_id-->
<!--        on tb_role.id = r_id.role_id;-->
<!--    </select>   -->
    <select id="listUserRolesByUsername" resultType="java.lang.String">
        select role_name
        from tb_user, tb_role_user, tb_role
        where tb_user.username = #{username}
        and tb_role_user.user_id = tb_user.user_id
        and tb_role.role_id = tb_role_user.role_id;
    </select>
</mapper>
